<!-- order.html for Lab 12 - starter file-->
<!DOCTYPE html>
<html>
<head>
    <title>Order Page</title>
    <script src="./products.js"></script>

    <script>
        // this is added for last part of part 5 of lab 12
        // Check for 'error' and 'quantity_textbox' in the query string
        let params = (new URL(document.location)).searchParams;
        let error = params.get('error');
        let quantityTextboxValue = params.get('qty_textbox');

        if (error) {
            document.write(`<div style="color:red; border:1px solid red; padding: 10px; margin-bottom: 10px;">${error}</div>`);
        }

        document.write(`<h3>${products[0]["brand"]} at \$${products[0]["price"]}</h3>`);
    </script>
</head>
<body>
    <script>
        document.write(`<h3>${products[0]["brand"]} at \$${products[0]["price"]}</h3>`);
    </script>
    <form name="qty_form" action="process_form" method="POST">
        <script> 
            for (i in products) {
                document.write(`<h4>${products[i]["total_sold"]} ${products[i]["brand"]} have been sold!</h4>`);
            }  
        </script>
        <label for="qty_textbox">Quantity Desired:</label>
        <input type="text" name="qty_textbox">
        <span id="qty_textbox_message">Enter a quantity</span>

        <br><br>
        <input type="submit" value="Purchase">
    </form>
</body>
</html>
